<h2>Todos os Contatos</h2>

<div class="container">

  <div class="row mb-3">
    <div class="col-md-6 mb-2">
      <input
        type="text"
        class="form-control"
        placeholder="Pesquisar por nome, telefone, email ou categoria"
        [(ngModel)]="searchTerm"
      />
    </div>

    <div class="col-md-6">
      <select class="form-select" [(ngModel)]="selectedCategory">
        <option value="">Todas as categorias</option>
        <option *ngFor="let cat of getUniqueCategories()" [value]="cat">
          {{ cat }}
        </option>
      </select>
    </div>
  </div>

  <ul class="list-group">
    <li 
      *ngFor="let contact of filteredContacts()"
      class="list-group-item d-flex justify-content-between align-items-center"
    >
      <div>
        <strong>{{ contact.nome }}</strong> — {{ contact.categoria }}
      </div>
      <div>
        <button class="btn btn-sm btn-link me-1" (click)="editContact(contact)">
          Editar
        </button>
        <button class="btn btn-sm btn-outline-warning me-1" (click)="toggleFavorite(contact)">
          {{ contact.favorito ? '★ Favoritado' : '☆ Favoritar' }}
        </button>
        <button class="btn btn-sm btn-outline-danger" (click)="deleteContact(contact)">
          Excluir
        </button>
      </div>
    </li>
  </ul>
</div>
